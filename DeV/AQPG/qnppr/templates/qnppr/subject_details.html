{% extends 'users/base.html' %}
{% load crispy_forms_tags %}

{% block nav_bar_left_items %}
<ul class="navbar-nav mr-auto">
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          User
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
          <a class="dropdown-item" href="{% url 'user_add' %}">Add</a>
          <a class="dropdown-item" href="#">View</a>
          <!--<div class="dropdown-divider"></div>
          <a class="dropdown-item" href="#">Something else here</a>-->
        </div>
		</li>

      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Department
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
          <a class="dropdown-item" href="{% url 'dept_add' %}">Add</a>
        </div>
      </li>

      <li class="nav-item dropdown ">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Subject
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
          <a class="dropdown-item" href="{% url 'sub_add' %}">Add</a>
          <a class="dropdown-item" href="{% url 'map_mod' %}">Map</a>
        </div>
      </li>

      <li class="nav-item dropdown ">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Question
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
          <a class="dropdown-item" href="{% url 'add-qn' %}">Add</a>
          <a class="dropdown-item" href="#">Map</a>
        </div>
      </li>
    </ul>
{% endblock %}

{% block nav_bar_right_items %}

<ul class="navbar-nav ml-auto" >
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          {{ full_name }}
        </a>
        <div class="dropdown-menu" style="left: auto !important; right: 0px" aria-labelledby="navbarDropdown">
          <a class="dropdown-item" href="#">Profile</a>
          <a class="dropdown-item" href="#">pswd mngnmnt</a>
          <a class="dropdown-item" href="{% url 'logout' %}">Logout</a>
          <!--<div class="dropdown-divider"></div>
          <a class="dropdown-item" href="#">Something else here</a>-->
        </div>
      </li>

     <!-- <li class="nav-item active">
        <a class="nav-link" href="#" style="visibility: hidden">Hom<span class="sr-only">(current)</span></a>
      </li>-->
    </ul>

{% endblock %}

{% block main_divs %}

<div class="col-md-1"></div>
        <div class="col-md-10" style="margin-top: 10">

{% endblock %}

{% block content %}

<div class="container-fluid" style="margin-top: 5px">
  <div class="row">
      <div class="col-12">
     <div class="card">
            <div class="card-block">
			  <div class="row">
			  <div class="col-md-4 col-sm-4 text-center">
					<img style="margin-top: 10px; margin-bottom: 10px" src="/media/book_2.jpg" alt="" class="btn-md" height="180px" width="180px">
				</div>
				<div class="col-md-8 col-sm-8">
					<!--<h2 class="card-title" style="margin-top: 15px">Name : {{ sub_obj.subname }} {{ user_obj.last_name }}</h2>-->
                    <p class="card-text" style="margin-top: 50px"><strong>Name &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;</strong> {{ sub_obj.subname }} </p>
                    <!--<p class="card-text" ><strong>Email Id &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;</strong> {{ user_obj.email}} </p>-->
					<p class="card-text" ><strong>Department : </strong> {{ sub_obj.dept }} </p>
                    <p class="card-text" ><strong>Semester &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;</strong> {{ sub_obj.sem }} </p>
				</div>
			  </div>


                    {% if co_obj %}
                        <table class="table">
  					    <thead>
    					    <tr>
      						    <th scope="col">Module</th>
      						    <th scope="col">Mapped CO</th>
      						    <th scope="col">CO Description</th>
    					    </tr>
  					    </thead>
  					    <tbody>
    					    {% for c in co_obj %}
                                <tr>
	                                <td>{{ c.module_name }}</td>
                                    <td>{{ c.co_cd_name }}</td>
                                    <td>{{ c.co_desc }}</td>
                                </tr>
                            {%endfor%}
                        </tbody>
				        </table>
                    {% else %}
                        <center><p style="color: red"><strong>Modules not yet mapped to respective CO's</strong></p></center>
                    {% endif %}


              </div>
          </div>
    </div>

  </div>

</div>

{% endblock %}
